<%- layout('layouts/boilerplate') %>

<!-- prettier-ignore -->
<% if (player !== undefined) { %>
<h1><%= player.name %></h1>
<ul>
  <li>Email: <%=player.email%></li>
</ul>

<h2>Game Specialisations</h2>
<% if (gamespecialisations.length > 0 && games.length > 0) { %>
<!-- prettier-ignore -->
<ul>
  <% for (let i = 0; i < gamespecialisations.length; i++)  { %>
    <% for (let k= 0; k < games.length; k++) { %>
      <% if (gamespecialisations[i].game_id === games[k].game_id)  { %>
        <li><%= games[k].name %></li>
      <% } %>
    <% } %>
  <% } %>
</ul>
<% } else { %>
<p><%=player.name %> has no Game specialisations</p>
<% } %>

<div class="d-flex">
  <a class="btn btn-success me-1" href="/players/<%=player.player_id%>/edit"
    >Edit</a
  >
  <form action="/players/<%=player.player_id%>/delete" method="post">
    <button class="btn btn-danger">Delete</button>
  </form>
</div>
<% } else { %>
<h1>There is no player with an id of "<%=id%>"</h1>
<% } %>
